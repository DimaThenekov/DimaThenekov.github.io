<!DOCTYPE html>
<html lang="ru" style="width: 100%;height:100%;background:rgb(34,34,36);font-family: 'Open Sans', sans-serif;">
	<head>
		<meta charset="UTF-8">
		<title>Сайт-портфолио Ценекова Дмитрия</title>
		<link rel="icon" type="image/png" sizes="32x32" href="data:image/png;base64,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" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=800, initial-scale=1.0">
		<meta content='true' name='HandheldFriendly'/>
		<meta content='800' name='MobileOptimized'/>
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="description" content="Проекты Ценекова Дмитрия">
		<meta name="keywords" content="Ценеков Дмитрий, Проекты, Сайт-портфолио">
		<meta name="author" content="dim0n4eg">
		<meta http-equiv="Cache-Control" content="public, max-age=86400">
		
		<script type="text/javascript">
			function constrain(a,b,c){return Math.min(Math.max(a,b),c)}
			// (вход, установка, п, и, д, период в секундах, мин.выход, макс. выход)
			var PIDdata=[];
			function computePID(input, setpoint, kp, ki, kd, dt, minOut, maxOut, num) {
			  var err = setpoint - input;
			  if (PIDdata[num]==undefined)
				PIDdata[num]=[0,0];
			  var integral = PIDdata[num][0], prevErr = PIDdata[num][1];
			  integral = constrain(integral + err * dt * ki, minOut, maxOut);
			  PIDdata[num][0] = integral;
			  var D = (err - prevErr) / dt;
			  PIDdata[num][0] = err;
			  return constrain(err * kp + integral + D * kd, minOut, maxOut);
			}
			function getPosition(e) {
				var rect = e.target.getBoundingClientRect();
				var x = -1;
				var y = -1;
				if ((e.clientX != undefined) && (e.clientX != undefined)) {
					x = e.clientX - rect.left;
					y = e.clientY - rect.top;
				} else
					if (e.touches != undefined)
						if (e.touches.length > 0) {
							x = e.touches[0].clientX - rect.left;
							y = e.touches[0].clientY - rect.top;
						} else if (e.changedTouches.length > 0) {
							x = e.changedTouches[0].clientX - rect.left;
							y = e.changedTouches[0].clientY - rect.top;
						}
				x=Math.round(x);
				y=Math.round(y);
				return (x + ':' + y);
			}
			function roundRect(ctx, x1, y1, x2, y2, radius) {
				radius = Math.min(radius, (x2 - x1) / 2, (y2 - y1) / 2); // избегаем артефактов, в случае если радиус скругления больше одной из сторон
				ctx.beginPath();
				ctx.moveTo(x1 + radius, y1);
				ctx.lineTo(x2 - radius, y1);
				ctx.arcTo(x2, y1, x2, y1 + radius, radius);
				ctx.lineTo(x2, y2 - radius);
				ctx.arcTo(x2, y2, x2 - radius, y2, radius);
				ctx.lineTo(x1 + radius, y2);
				ctx.arcTo(x1, y2, x1, y2 - radius, radius);
				ctx.lineTo(x1, y1 + radius);
				ctx.arcTo(x1, y1, x1 + radius, y1, radius);
				ctx.fill();
				ctx.stroke();
			}
			function containPoint(tX,tY,tW,tH,x, y) {
				return tX <= x && x <= tX + tW && tY <= y && y <= tY + tH;
			}
			function colorChannelMixer(colorChannelA, colorChannelB, amountToMix){
				var channelA = colorChannelA*amountToMix;
				var channelB = colorChannelB*(1-amountToMix);
				return parseInt(channelA+channelB);
			}
			function colorMixer(rgbA, rgbB, amountToMix){
				var r = colorChannelMixer(rgbA[0],rgbB[0],amountToMix);
				var g = colorChannelMixer(rgbA[1],rgbB[1],amountToMix);
				var b = colorChannelMixer(rgbA[2],rgbB[2],amountToMix);
				return "rgb("+r+","+g+","+b+")";
			}
			
			
			
			var buttons=[];
			function drawButton(ctx,x,y,h,w,v,style,num){
				switch(style) {
				  case 1: 
					var gradient = ctx.createLinearGradient(x,0, x+h,0);
					gradient.addColorStop(0, '#AAA');
					gradient.addColorStop(.1, colorMixer([221,221,221],[221,170,170],1-constrain(v,0,1)));
					gradient.addColorStop(.9, colorMixer([221,221,221],[221,170,170],1-constrain(v,0,1)));
					gradient.addColorStop(1, colorMixer([187,187,187],[187,119,119],1-constrain(v,0,1)));
					ctx.fillStyle = "#000000";
					ctx.strokeStyle = gradient;
					ctx.lineWidth = 15;
					roundRect(ctx,x,y,x+h,y+w,4);
					gradient = ctx.createLinearGradient(x,0, x+h,0);
					gradient.addColorStop(0, '#400');
					gradient.addColorStop(.03, '#800');
					gradient.addColorStop(.97, '#800');
					gradient.addColorStop(1, '#400');
					ctx.fillStyle = gradient;
					ctx.strokeStyle = gradient;
					ctx.lineWidth = 1;
					roundRect(ctx,x,y-w*v,x+h,y+w,4);
					gradient = ctx.createLinearGradient(x,0, x+h,0);
					gradient.addColorStop(0, '#B00');
					gradient.addColorStop(.8, '#F00');
					gradient.addColorStop(1, '#B00');
					ctx.fillStyle = gradient;
					ctx.strokeStyle = "#D00";
					ctx.lineWidth = 3;
					roundRect(ctx,x,y-w*v,x+h,y+w-w*v,7);
					
					
					hitboxs[num][0]=x;
					hitboxs[num][1]=y-w*1;
					hitboxs[num][2]=h;
					hitboxs[num][3]=w+w*1;
					while (hitboxs[num][7].length<4)
						hitboxs[num][7].push(computePID(hitboxs[num][4],hitboxs[num][5]+0.01*Math.sin((new Date)/300),0.1,0.1,0.1,1,-2,2,num));
					hitboxs[num][4]=constrain(hitboxs[num][4]+hitboxs[num][7].shift()/8,0.1,2);
					var e=hitboxs[num];
					if (hitboxs[num][5]>0.5 && (new Date)-hitboxs[num][6]>50 || !containPoint(e[0],e[1],e[2],e[3],mouselastX,mouselastY))
						hitboxs[num][5]=1;
					break;
				  default:
					console.log('drawButton error')
				}
			}
			var canvas, ctx;
			function onload(){
				setTimeout(()=>{console.log('Created by dim0n4eg')},100);
				canvas = document.getElementById('canvas');
				ctx = canvas.getContext("2d", {alpha:false,antialias:false,depth:false,desynchronized:true});	
				render();
				canvas.addEventListener('mousemove', mouseMove);
				canvas.addEventListener("touchmove", mouseMove);
				canvas.addEventListener('mousedown', mouseDown);
				canvas.addEventListener("touchstart", mouseDown);
				canvas.addEventListener('mouseup', mouseUp);
				canvas.addEventListener("touchend", mouseUp);
				canvas.addEventListener('mouseout', mouseUp);
				canvas.addEventListener("touchcancel", mouseUp);
			}
			hitboxs=[[0,0,0,0,1,1,new Date,[]],[0,0,0,0,1,1,new Date,[]],];
			function render()
			{
				if (canvas.clientHeight != canvas.height || canvas.clientWidth != canvas.width) {
					canvas.height = canvas.clientHeight;
					canvas.width = canvas.clientWidth;
				}
				ctx.fillStyle = "#4f51bf";
				ctx.fillRect(0, 0, canvas.width, canvas.height);
				var cW = canvas.width, cH = canvas.height;
				drawButton(ctx, cW*0.6, cH*0.7,  cW*0.3, cW*0.1, hitboxs[0][4], 1, 0);
				drawButton(ctx, cW*0.1, cH*0.7,  cW*0.3, cW*0.1, hitboxs[1][4], 1, 1);
				
				requestAnimationFrame(render);
			}
			var mousestatus=0;
			var mouselastX=0,mouselastY=0;
			function hitboxMove(ind,isPress)
			{
			
				switch(ind) {
				  case 0:
				  case 1:
					if (isPress==0) hitboxs[ind][5]=0.9;
					if (isPress==1) hitboxs[ind][5]=0.3;
					if (isPress==2) hitboxs[ind][5]=1;
					hitboxs[ind][6] = new Date;
					break;
				}
				//console.log(ind,isPress);
			}
			function mouseDown(e)
			{
				mousestatus = 1;
				mouselastX = parseFloat(getPosition(e).split(':')[0]);
				mouselastY = parseFloat(getPosition(e).split(':')[1]);
				mouseMove(e);
			}
			function mouseMove(e)
			{
				var posX = parseFloat(getPosition(e).split(':')[0]);
				var posY = parseFloat(getPosition(e).split(':')[1]);
				hitboxs.forEach((e,i) =>{if (containPoint(e[0],e[1],e[2],e[3],posX,posY)) hitboxMove(i,mousestatus)});
				mouselastX = posX;
				mouselastY = posY;
			}
			function mouseUp(e)
			{
				mousestatus = 2;
				mouseMove(e);
				mousestatus = 0;
			}
		</script>
		<style>
			
		</style>
	</head>
	<body onload="onload();">
		<canvas id="canvas" width="1920" height="1080" style="height:100%;width:100%;position: absolute;top: 0%;left: 0%;"></canvas>
    
	</body>
</html>